var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var r=a("iQIUW");const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},i=document.querySelector("#resin"),u=()=>parseInt(i.value)||0,l=()=>document.querySelector("#save").checked,s=document.querySelector("[data-20]"),c=document.querySelector("[data-40]"),d=document.querySelector("[data-60]"),m=document.querySelector("[data-date]"),g=document.querySelector("[data-plus]"),v=document.querySelector("[data-minus]"),f=document.querySelector("[data-warningFull]"),S=document.querySelector("#save");let N=0,y={date:Number(new Date-3e5),resin:u(),saving:!0};const b=()=>{if(l()){const e={date:Number(new Date-3e5),resin:u(),saving:!0};console.log(e),localStorage.setItem("save",JSON.stringify(e)),r.Notify.success("Saving data.")}};y=JSON.parse(localStorage.getItem("save")),(()=>{y||(y={date:Number(new Date-3e5),resin:u(),saving:!1}),N=Number(new Date-3e5);const e=N-y.date,t=Number(e/48e4).toFixed(0)-0,n=0+Number(y.resin+t);y.resin!=n&&r.Notify.warning("Updated "+y.resin+" -> "+n+" (time= "+e+" )"),i.value=n})(),document.querySelector("#save").checked=JSON.parse(y.saving),l()&&r.Notify.warning("Data loaded.");let w=null,p=null;SRTTick=()=>{console.log("tick: got one resin more"),i.value=Number(i.value)+1,b(),r.Notify.info(`Rasin increased to ${i.value}`)};function D(e){const t=6e4,n=36e5,a=24*n;return{days:String(Math.floor(e/a)).padStart(2,0),hours:String(Math.floor(e%a/n)).padStart(2,0),minutes:String(Math.floor(e%a%n/t)).padStart(2,0),seconds:String(Math.floor(e%a%n%t/1e3)).padStart(2,0)}}const h=(e,t)=>48e4*(t-e%t)+N,L=(e,t="date")=>"date"==t?"date ":`${e.hours}h  ${e.minutes}min ${e.seconds}s`,T=()=>{q=h(u(),160);D(Number(q)-Number(new Date));s.innerHTML=L(D(Number(h(u(),20))-Number(new Date)),"countdown"),c.innerHTML=L(D(Number(h(u(),40))-Number(new Date)),"countdown");const e=new Date(Number(h(u(),60))).toLocaleDateString("pl-PL",o);d.innerHTML=e,m.innerHTML=new Date(Number(h(u(),160))).toLocaleDateString("pl-PL",o),f.innerHTML=Number(new Date(h(u(),160)).getDay())==Number((new Date).getDay())?" Dzisiaj":" "};g.addEventListener("click",(()=>{u()+20<=160?(i.value=Number(i.value)+20,b()):i.value=160})),v.addEventListener("click",(()=>{u()-20>=0?(i.value=Number(i.value)-20,b()):i.value=0})),i.addEventListener("change",(()=>{b()})),S.addEventListener("change",(()=>{l()?b():(r.Notify.failure("Deleting data from local storage."),y={date:Number(new Date-3e5),resin:u(),saving:!1},localStorage.setItem("save",""))}));let q=h(u(),160);T(),w=setInterval(T,1e3),p=setInterval((()=>{clearInterval(p),SRTTick(),p=setInterval(SRTTick,48e4)}),(()=>{const e=new Date,t=36e5*e.getHours()+6e4*e.getMinutes()+1e3*e.getSeconds()+e.getMilliseconds()-3e5,n=48e4-t%48e4;return r.Notify.info(`Resin incease in ${(n/6e4).toFixed(0)}m  ${(n%6e4/1e3).toFixed(0)-1}s`),48e4-t%48e4})());
//# sourceMappingURL=04-resinTimer.4a8217e0.js.map
